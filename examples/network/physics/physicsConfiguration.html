<!doctype html>
<html lang="en">
  <head>
    <title>Vis Network | Physics | Playing with Physics</title>

    <style type="text/css">
      body {
        font: 10pt sans;
      }
      #mynetwork {
        float: left;
        width: 600px;
        height: 600px;
        margin: 5px;
        border: 1px solid lightgray;
      }
      #config {
        float: left;
        width: 400px;
        height: 600px;
      }
    </style>

    <script type="module">
      import { loadForceAtlasWasm } from '../../../wasm/forceatlas/wasm-loader.js';
      await loadForceAtlasWasm(); // ensures window.compute_forces is available
    </script>

    <script
      type="text/javascript"
      src="../../../standalone/umd/vis-network-advanced.min.js"
    ></script>

    <script
      type="text/javascript"
      src="https://unpkg.com/alea@1.0.0/alea.js"
    ></script>
    <script type="text/javascript" src="../exampleUtil.js"></script>

    <script type="text/javascript">
      const nodeCount = 5000;

      var nodes = null;
      var edges = null;
      var network = null;

      function draw() {
        nodes = [];
        edges = [];
        // randomly create some nodes and edges
        var data = getScaleFreeNetwork(nodeCount);

        // create a network
        var container = document.getElementById("mynetwork");

        var options = {
          physics: {
            maxVelocity: 150,
            solver: "forceAtlas2Based",
            forceAtlas2Based: {
              gravitationalConstant: -283,
              springLength: 100,
              useWasm: false,
            },
            stabilization: false,
            wind: { x: 0, y: 0 },
          },
          // layout: {
          //   improvedLayout: false,
          // },
          configure: {
            filter: function (option, path) {
              if (path.indexOf("physics") !== -1) {
                return true;
              }
              if (path.indexOf("smooth") !== -1 || option === "smooth") {
                return true;
              }
              return false;
            },
            container: document.getElementById("config"),
          },
        };
        network = new vis.Network(container, data, options);
      }
    </script>
  </head>

  <body onload="draw();">
    <h2>Playing with Physics</h2>
    <div id="mynetwork"></div>
    <div id="config"></div>

    <p id="selection"></p>
  </body>
</html>
